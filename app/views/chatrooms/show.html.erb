<div class="row">
  <div class="col-sm-2" style="position: fixed; left: 0;">
    <h5>Chatrooms</h5>
    <ul>
      <% current_user.chatrooms.each do |chatroom| %>
        <li><%= link_to chatroom.name, chatroom, data: {behavior: "chatroom-link", chatroom_id: chatroom.id} %></li>
      <% end %>
    </ul>
  </div>
  <div class="col-sm-10 offset-sm-2">
    <p>
      <strong>Name:</strong>
      <%= @chatroom.name %>
    </p>
    
    <div data-behavior='messages' data-chatroom-id='<%= @chatroom.id %>'>
      <% @messages.each do |message| %>
        <%= render message %>
      <% end %>
    </div>
    
    <%= form_with model: [@chatroom, Message.new], :html => { :id => 'chatroom_form' } do |f| %>
      <%= f.text_area :body, rows: "1", class: 'form-control', autofocus: true %>
    <% end %>
  </div>
</div>